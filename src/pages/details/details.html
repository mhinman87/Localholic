<!--
  Generated template for the DetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="clear">
    <ion-title class="title"></ion-title>
  </ion-navbar>

</ion-header>



<ion-content style="background-color: #42A880">

    <ion-fab bottom right>
        <button ion-fab color="primary" (click)="canUserCheckIn()" [ngClass]="{hidden: hideMap == true}">
          <ion-icon name="md-locate"></ion-icon>
        </button>
      </ion-fab>

  <h1 class="truck-title">{{foodtruck.name}}</h1>

    
  <img id="image-1" src="assets/imgs/{{foodtruck.image}}.gif" alt="" />
  <img id="image-1" src="{{foodtruck.img}}" alt="" />

  <p>{{foodtruck.details}}</p>



          <div class="container">
            <ul style="padding: 0;">
              <!--
              <li><span id="days"></span>days</li>
              -->
              <li><span id="hours"></span>Hours</li>
              <li><span id="minutes"></span>Minutes</li>
              <li><span id="seconds"></span>Seconds</li>
            </ul>
          </div>

          <upvote-button class="upvote-counter" [itemId]="foodtruck.id" [userId]="authenticatedUser.uid" [ownerId]="foodtruck.ownerId"></upvote-button>
          

          <div *ngIf="account$ | async; let user">
            <button ion-button *ngIf="this.account" round long class="check-in-button" [disabled]="user.eventCheckInTimer > currentTime" (click)="checkIn()">Check In</button>
            <div *ngIf="isUserCloseEnough == undefined" class="notification-is-info">
              Getting your location...
            </div>
    
            <div *ngIf="isUserCloseEnough == false" class="notification-is-danger">
              You are too far away.
            </div>
            
            <div *ngIf="isUserCloseEnough" class="notification-is-success">
              You are close enough to check in
            </div>
          

          <div class="container" *ngIf="user.eventCheckInTimer > currentTime">
            <ul style="padding: 0;">
              <li><span id="cdseconds"></span>Check In</li>
            </ul>
          </div>
        </div>
          

</ion-content>


        <!--
          <h3  id="time-left" *ngFor="let truck of obFoodtruck | async">
            {{timeLeft(truck.eventEnd + 5*3600000)}} Left
          </h3>

          <h3  id="time-left" *ngFor="let truck of obFoodtruck | async">
            Live for {{timeSince(truck.eventStart + 5*3600000)}}
          </h3>
          -->


        <!-- Wrapper 
          <div id="wrapper">
    
            
              <section id="main">
                <header>
                  <span class="avatar"><img src="assets/imgs/{{foodtruck.image}}.gif" alt="" /></span>
                  <h1 ion-text color="light">{{foodtruck.name}}</h1>
                  <p ion-text color="light">{{foodtruck.details}}</p>
                </header>
                
               <div id="wrapper">
                <ion-icon class="menu-icon" name="ios-menu-outline" color="light"></ion-icon>
                <p class="menu-heading" ion-text color="light">MENU</p>
              </div> 
              </section>

              <div id="time-wrapper">
                <h5 ion-text text-center style="padding-top: 90px;" color="light">Start Time: {{msToTime(foodtruck.eventStart)}}</h5>
                <h5 ion-text text-center color="light">End Time: {{msToTime(foodtruck.eventStart + foodtruck.duration * 3600000)}}</h5>
            </div>
          </div>

          -->


          <!--
          <div id="menu-wrapper">
            <ion-item class="menu-item" *ngFor="let item of foodtruck.menu" color="clear">
                <ion-avatar item-start>
                    <img src="assets/imgs/{{item.image}}.png">
                  </ion-avatar>
              <h3 class="menu-item-name" ion-text color="light">{{item.name}}</h3>
              <h3 class="menu-item-price" ion-text color="light">${{item.price}}</h3>
            </ion-item>
          </div>
          -->
